{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/USER/Documents/GitHub/ebuy_fleamarket_website/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/USER/Documents/GitHub/ebuy_fleamarket_website/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/USER/Documents/GitHub/ebuy_fleamarket_website/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import signinimage from\"../images/76884837.jpg\";import logo_web from\"../images/logo_web.png\";import Shop from\"./shop\";import{useHistory}from\"react-router-dom\";import{Route}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){return/*#__PURE__*/_jsx(\"img\",{src:logo_web,alt:\"Logo\"});}var Login=function Login(props){var history=useHistory();var registerFormStyle={marginLeft:'2cm',width:\"500px\"};var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var signUpData,response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();signUpData={email:email,password:password};_context.next=4;return fetch('https://ebuydevbackend.azurewebsites.net/api/login',{method:'POST',body:JSON.stringify(signUpData),headers:{'Content-Type':'application/json'}});case 4:response=_context.sent;_context.next=7;return response.json();case 7:json=_context.sent;console.log(json);if(!response.ok){alert(json.message);setError(json.error);}if(response.ok){setError(null);window.alert('The login was successful');console.log('user login success');history.push(\"/shop\");window.location.reload();}case 11:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"body\",style:registerFormStyle,children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-container\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Ebuy\",children:\"Sign in here \\uD83D\\uDD10\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"Login-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email/Phone\"}),/*#__PURE__*/_jsx(\"input\",{value:email,onChange:function onChange(e){return setEmail(e.target.value);},type:\"email\",placeholder:\"your username\",id:\"email\",name:\"email\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{value:password,onChange:function onChange(e){return setPassword(e.target.value);},type:\"password\",placeholder:\"*********\",id:\"password\",name:\"password\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign In\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/Signup \",children:\"Already have an account? Sign in\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"image-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:signinimage,className:\"img-fluid\",alt:\"Welcome to our eCommerce store!\"}),/*#__PURE__*/_jsx(\"button\",{className:\"link-btn\",onClick:function onClick(){return props.onFormSwitch(\"register\");}})]})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","signinimage","logo_web","Shop","useHistory","Route","jsx","_jsx","jsxs","_jsxs","Header","src","alt","Login","props","history","registerFormStyle","marginLeft","width","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","error","setError","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","signUpData","response","json","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","body","JSON","stringify","headers","sent","console","log","ok","alert","message","window","push","location","reload","stop","_x","apply","arguments","className","style","children","htmlFor","onSubmit","value","onChange","target","type","placeholder","id","name","href","onClick","onFormSwitch"],"sources":["C:/Users/USER/Documents/GitHub/ebuy_fleamarket_website/client/src/components/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport signinimage from \"../images/76884837.jpg\";\r\nimport logo_web from \"../images/logo_web.png\";\r\nimport Shop from \"./shop\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {Route} from \"react-router-dom\";\r\nfunction Header() {\r\n\treturn <img src={logo_web} alt=\"Logo\" />;\r\n}\r\n\r\n\r\nconst Login = (props) => {\r\n\tconst history = useHistory();\r\n\tconst registerFormStyle = {\r\n\t\tmarginLeft: '2cm',\r\n\t\twidth: \"500px\",\r\n\t};\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [error, setError] = useState(null);\r\n\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tconst signUpData = { email, password }\r\n\t\tconst response = await fetch('https://ebuydevbackend.azurewebsites.net/api/login', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify(signUpData),\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t}\r\n\t\t})\r\n\t\tconst json = await response.json()\r\n\t\tconsole.log(json)\r\n\t\tif (!response.ok) {\r\n\t\t\talert(json.message)\r\n\t\t\tsetError(json.error)\r\n\t\t}\r\n\t\tif (response.ok) {\r\n\t\t\t\r\n\t\t\tsetError(null)\r\n\t\t\twindow.alert('The login was successful')\r\n\t\t\tconsole.log('user login success')\r\n\t\t\thistory.push(\"/shop\");\r\n\t\t\twindow.location.reload();\t\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"body\" style={registerFormStyle}>\r\n\t\t\t<div className=\"auth-form-container\">\r\n\t\t\t\t<label htmlFor=\"Ebuy\">Sign in here üîê</label>\r\n\t\t\t\t<div className=\"form-container\">\r\n\t\t\t\t\t<form className=\"Login-form\" onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t<label htmlFor=\"email\">Email/Phone</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tplaceholder=\"your username\"\r\n\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor=\"password\">Password</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tplaceholder=\"*********\"\r\n\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<button type=\"submit\" >Sign In</button>\r\n\t\t\t\t\t\t<a href =\"/Signup \">Already have an account? Sign in</a>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<div className=\"image-container\" >\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={signinimage}\r\n\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\talt=\"Welcome to our eCommerce store!\" />\r\n\t\t\t\t\t\t<button className=\"link-btn\" onClick={() => props.onFormSwitch(\"register\")}>\r\n\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div></div></div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}